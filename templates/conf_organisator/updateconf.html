{% extends "base/base.html" %}
{% load static %}
{% block content %}
<main class="main">
    <section class="content">
        <h2>Изменение конференции</h2>
        <section class="application_form">
            <form class="application_form_items" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="conference_name">{{ form.conference_name}}</div>
                <div class="conference_full_name">{{ form.conference_full_name}}</div>
                <div class="conference_discription">{{ form.conference_discription}}</div>
                <div class="conference_date_start_text"><a class="text">Дата начала конференции</a></div>
                <div class="conference_date_start">{{ form.conference_date_start}}</div>
                <div class="conference_date_end_text"><a class="text">Дата окончания конференции</a></div>
                <div class="conference_date_end">{{ form.conference_date_end}}</div>
                <div class="conference_date_reg_start_text"><a class="text">Дата начала регистрации</a></div>
                <div class="conference_date_reg_start">{{ form.conference_date_reg_start}}</div>
                <div class="conference_date_reg_end_text"><a class="text">Дата окончания регистрации</a></div>
                <div class="conference_date_reg_end">{{ form.conference_date_reg_end}} </div>
                <div class="conference_format_id_text"><a class="text">Формат проведения</a></div>
                <div class="conference_format_id">{{ form.conference_format_id}} </div>
                <div class="conference_faculty_id_text"><a class="text">Факультет</a></div>
                <div class="conference_faculty_id">{{ form.conference_faculty_id}} </div>
                <div class="conference_building_id_text"><a class="text">Корпус</a></div>
                <div class="conference_building_id">{{ form.conference_building_id}} </div>
                <div class="conference_keywords">{{ form.conference_keywords}} </div>
                <div class="sections">{{ sections.as_p }}</div>
                <div class="submit_sections"><input type="submit" value="Добавить направление"></div>
                <input type="submit" value="Изменить">
                <div class="graf">
                    <div class="chart-container">
                        <canvas id="myChart"></canvas>
                    </div>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>


                <script>
                    var ctx = document.getElementById('myChart').getContext('2d');
                    var chart = new Chart(ctx, {
                        // The type of chart we want to create
                        type: 'bar',

                        // The data for our dataset
                        data: {
                            labels: [{% for item in qs %}"{{item.conference_sections_name}}",{% endfor %}],
                    datasets: [{
                        label: 'Количество участников',
                        backgroundColor: '#0f3d88',
                        borderColor: '#0f3d88',
                        data: [{% for item1 in counts %}"{{item1}}", {% endfor %}]
                                }]
                            },

                    // Configuration options go here
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                        });
                </script>

</main>
{%endblock%}